@page
@using EventiaWebapp.Models
@using EventiaWebapp.Services
@model EventiaWebapp.Pages.EventsModel
@{
    var number = 0;
}

  
<h1 style="padding-top: 20px">UPCOMING EVENTS</h1>
    
<div class="accordion" id="accordionPanel">
        
    @foreach(var events in Model.EventList )
    {
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-@number">
                <button style="background-color: #212529" class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-@number" aria-expanded="False" aria-controls="collapse-@number">
                    <strong style="color: white">@events.Titel</strong> <span style="color: white">&emsp; @events.Date.ToShortDateString() - @events.Date.ToShortTimeString()</span> 
                </button>
            </h2>
            <div id="collapse-@number" style="background-color: #2f3337" class="accordion-collapse collapse" aria-labelledby="heading-@number">
                <div class="accordion-body" style="color: white">
                    <h4> @events.Titel kommer till @events.Place </h4><br/><br/> 
                    @events.Description
                </div>
                
            <div class="join-btn d-grid gap-2 d-md-flex justify-content-md-end">
                <form method="post" asp-route-idEvent="@events.EventId">
                <button class="btn btn-dark">Join</button>
                </form>
            </div>
               
            </div>
        </div>

        number += 1;
    }

</div>

<style>

    .accordion {
        padding-top: 40px;
        padding-bottom: 100px;
    }

    button {
        color: white;
    }

    button.accordion-button:focus {
        box-shadow: none;
        background-color: #2f3337
    }

    button.accordion-button::after {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='white'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
    }

    button.accordion-button:not(.collapsed)::after {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='white'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e");
      
    }

    .join-btn {
        padding-right: 20px;
        padding-bottom: 20px;
    }

    .btn-dark:hover {
        cursor: pointer;
        color: #212529;
        background: #5c636a;
    }
</style>
